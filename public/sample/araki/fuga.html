<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="/sample/araki/css/themes/base/jquery.ui.all.css">
<link rel="stylesheet" href="/sample/araki/css/my_css.css" />
<script type="text/javascript" src="/sample/araki/lib/jquery-1.8.2.js"></script>
<script type="text/javascript" src="/sample/araki/js/ui/jquery-ui.js"></script>

<title>Insert title here</title>
</head>
<body id="my_body">
<div id="jquery-ui-dialog" title="タブ追加フォーム">
    <form>
        <fieldset class="ui-helper-reset">
            <label for="tab_title">タイトル</label>
            <input type="text" name="tab_title" id="tab_title" value="" class="ui-widget-content ui-corner-all" />
            <label for="tab_content">内容</label>
            <textarea name="tab_content" id="tab_content" class="ui-widget-content ui-corner-all"></textarea>
        </fieldset>
    </form>
</div>
<button id="add_tab">タブを追加</button>

	<table id="my_table">
		<tr>
			<td class="my_table_sell">
				<div id="left-tabs">
				    <ul>
				        <li><a href="#left-tabs-1">タブ 1</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				        <li><a href="#left-tabs-2">タブ 2</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				        <li><a href="#left-tabs-3">タブ 3</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				    </ul>
				    <div class="my_table_sell_inner">
					    <div id="left-tabs-1">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
					    <div id="left-tabs-2">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
					    <div id="left-tabs-3">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
				    </div>
				</div>
			</td>
			<td class="my_centerBtn">
				<div>
					<input type="button" value="up">
				</div>
				<p/>
				<div>
					<input type="button" value="down">
				</div>
				<p/>
				<div>
					<input type="button" value="diff">
				</div>
			</td>
			<td class="my_table_sell">
				<div id="right-tabs">
				    <ul>
				        <li><a href="#right-tabs-1">タブ 1</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				        <li><a href="#right-tabs-2">タブ 2</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				        <li><a href="#right-tabs-3">タブ 3</a> <span class="ui-icon ui-icon-close">Remove Tab</span></li>
				    </ul>
				    <div class="my_table_sell_inner">
					    <div id="right-tabs-1">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
					    <div id="right-tabs-2">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
					    <div id="right-tabs-3">
					        <p>タブ 1 の内容。</p>
					        <p>この実装例の、jQuery UI の CSS テーマは、デフォルトのテーマを読み込んで使っている。他の CSS テーマにも対応しているので、色々試してみるといい。</p>
					    </div>
				    </div>
				</div>
			</td>
		</tr>
	</table>

</body>

<script type="text/javascript">  
<!--
$( function() {
	var $tab_title_input = jQuery( '#tab_title' ),
	    $tab_content_input = jQuery( '#tab_content' );
	var tab_counter = 2;

	var $tabs = jQuery( '#right-tabs' ) . tabs( {
	    tabTemplate: "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",
	    add: function( event, ui ) {
	        var tab_content = $tab_content_input . val() || 'タブ ' + tab_counter + ' の内容。';
	        jQuery( ui . panel ) . append( '<p>' + tab_content + '</p>' );
	    }
	} );
	
	var $tabs = jQuery( '#left-tabs' ) . tabs( {
	    tabTemplate: "<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",
	    add: function( event, ui ) {
	        var tab_content = $tab_content_input . val() || 'タブ ' + tab_counter + ' の内容。';
	        jQuery( ui . panel ) . append( '<p>' + tab_content + '</p>' );
	    }
	} );
	
	var $dialog = jQuery( '#jquery-ui-dialog' ) . dialog( {
	    autoOpen: false,
	    modal: true,
	    buttons: {
	        '追加': function() {
	            addTab();
	            jQuery( this ) . dialog( 'close' );
	        },
	        'キャンセル': function() {
	            jQuery( this ) . dialog( 'close' );
	        }
	    },
	    open: function() {
	        $tab_title_input . focus();
	    },
	    close: function() {
	        $form[ 0 ] . reset();
	    }
	} );
	
	var $form = jQuery( "form", $dialog ) . submit( function() {
	    addTab();
	    $dialog . dialog( 'close' );
	    return false;
	} );
	
	function addTab() {
	    var tab_title = $tab_title_input . val() || 'タブ ' + tab_counter;
	    $tabs . tabs( 'add', '#left-tabs-' + tab_counter, tab_title );
	    tab_counter++;
	}
	
	jQuery( '#add_tab' )
	    .button()
	    .click( function() {
	        $dialog.dialog( 'open' );
	    } );
	
	jQuery( '#left-tabs span.ui-icon-close' ).live( 'click', function() {
	    var index = jQuery( 'li', $tabs ) . index( jQuery( this ) . parent() );
	    $tabs . tabs( 'remove', index );
	} );
	jQuery( '#right-tabs span.ui-icon-close' ).live( 'click', function() {
	    var index = jQuery( 'li', $tabs ) . index( jQuery( this ) . parent() );
	    $tabs . tabs( 'remove', index );
	} );
	
	jQuery( '.ui-tabs-nav' ) . sortable( {
        axis: 'x'
    } );
});
// -->
</script>
</html>